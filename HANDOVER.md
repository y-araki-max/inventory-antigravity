# プロジェクト最終引き継ぎ書 (Strict v10.1)

**重要**: 本ドキュメントは 2026年2月17日時点の最終決定版（v10.1）です。
キャッシュ問題および不整合を完全に解消したバージョンです。

## 1. 唯一の正解ルール (Single Source of Truth)
- 本バージョン起動時、**ブラウザのローカルストレージは一度だけ強制的に初期化**されます。
- これにより、v9以前のデータ混在や表示バグが物理的に削除されます。

## 2. システム機能・UI (Strict v10.1 Final)

### 月別アーカイブ機能 (Time Machine)
- **完全同期**: 表示月（プルダウン）を変更すると、在庫計算・カレンダー表示・履歴参照の全てがその月に厳格に切り替わります。
- **データ連動保証**: `useInventory.js` の依存配列修正により、月変更時の再計算が保証されています。

### データ管理
- **初期化ロジック**: `main.jsx` に `STRICT_V10_INITIALIZED` フラグによるガードレールを実装。
- **キャッシュ対策**: `index.html` の読み込みパスにバージョンクエリを付与し、古いキャッシュの読み込みを防止。

### その他
- マスタデータ、カテゴリ定義、翻訳無効設定は Strict v9.1 の内容を継承。

## 3. 運用ルール
- 初回アクセス時、画面が一度リロードされる場合があります（初期化処理のため正常です）。

----
This document serves as the absolute reference for the project (v10.1).
