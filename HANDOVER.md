# プロジェクト最終引き継ぎ書 (Strict v10.5)

**重要**: 本ドキュメントは 2026年2月17日時点の最終決定版（v10.5）です。
カレンダーの復元と、データの物理的抹消を完了しました。

## 1. 唯一の正解ルール (Single Source of Truth)

### カレンダー・アーカイブ機能
- **完全月別表示**: `viewMonth` の日数（28〜31日）分の行が、データ有無に関わらず必ず生成されます。
- **カレンダー復元**: v10.5修正により、選択した月の日次推移表が確実に表示されます。

### データ管理
- **物理的ワイプ**: v10.5 起動時、`localStorage` 内の `transactions` および `adjustments` キーを明示的に空配列で上書きし、過去の遺物を消去しています。
- **マスタデータ駆動**: 在庫表は常に `data.js` を正として描画します。

### UIルール (UI Polish)
- **ロット番号**: 
    - **最新**: **赤字・太字**（最新の入庫ロット1件）
    - **履歴**: 黒字（それ以前のロット）
    - 配列の先頭（index 0）を最新として扱うロジックで統一。

## 2. 運用ルール
- 毎月の在庫確認時、上部の「表示月」を切り替えるだけで、過去の時点の在庫数と日次履歴を確認できます。
- アプリの動作がおかしい場合は、コンソールログの `Strict v10.5: Purging...` の有無を確認してください。

----
This document serves as the absolute reference for the project (v10.5).
