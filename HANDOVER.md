# プロジェクト最終引き継ぎ書 (Strict v11.3)

**重要**: 本ドキュメントは 2026年2月18日時点の最終決定版（v11.3）です。
「日付取得エラー」を解消し、カレンダーの日付行を安全かつ強制的に表示するロジックに置換しました。

## 1. 唯一の正解ルール (Single Source of Truth)

### カレンダー機能
- **安全な日付計算**: 年・月の値を数値型 (`Number`) に確実にキャストしてから日数計算を行います。
- **エラー回避**: 万が一計算が不正（NaN等）になっても、エラーメッセージではなく「デフォルト（30日分）」を表示して画面崩れを防ぎます。
- **物理的強制レンダリング**: 1日から末日まで、確実に `<tr>` を出力します。

### UIルール
- **色分け**: 
    - **土曜日**: 行背景 `bg-blue-50`、日付文字 `text-blue-600`
    - **日曜日**: 行背景 `bg-red-50`、日付文字 `text-red-600`
    - **平日**: 偶数・奇数行で微細な縞模様

## 2. 運用ルール
- アプリケーションが「日付取得エラー」で止まることはありません。
- コンソールログ (`[Calendar Debug v11.3]`) で計算過程を確認可能です。

----
This document serves as the absolute reference for the project (v11.3).
